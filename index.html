<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slotify Timetable Scheduler</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
    font-weight: 400;
    font-style: normal;
}
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #e2e6e8 0%, #88c7df 100%);
    margin: 0;
    padding: 0;
    min-height: 100vh;
}
/* --- Layout & Container --- */
.container { 
    max-width: 900px; 
    margin: 40px auto; 
    padding: 24px; 
    background: #fff; 
    border-radius: 9px; 
    box-shadow: 0 4px 16px #0001; 
}
header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
header h1 { font-size: 2.2rem; margin: 0; }

/* --- Stats --- */
.stats { display: flex; gap: 24px; margin-bottom: 30px; }
.stat-card { background: #f1f5f9; border-radius: 8px; padding: 16px 26px; text-align: center; flex: 1; }
.stat-card h2 { font-size: 2rem; margin: 0 0 10px 0; }
.stat-card span { color: #555; font-size: 1rem; }

/* --- Tabs --- */
.tabs { display: flex; border-bottom: 2px solid #eee; margin-bottom: 16px;}
.tab { padding: 12px 30px; cursor: pointer; background: none; border: none; outline: none; font-size: 1.1rem; transition: background .2s; }
.tab.active { color: #1b91eb; border-bottom: 2px solid #1c92e0; background: #ffe4ee77; }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* --- Timetable Table --- */
.table-responsive {
    overflow-x: auto;
    width: 100%;
}
table { width: 100%; min-width: 550px; border-collapse: collapse; margin-top: 14px;}
th, td { border: 1px solid #eee; padding: 10px; text-align: center; vertical-align: middle; }
td.event { font-weight: bold; color: #fff; position: relative; }

/* Event Colors (Examples) */
.event-coa { background: #47d42eff; }
.event-em3 { background: #a02121ff; }
.event-dsgt { background: #8025dbff; }

/* Timetable Action Buttons */
.event-actions .btn {
    padding: 2px 8px; 
    font-size: 0.8em; 
    margin: 4px 2px 0 2px;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.5);
    color: #333; 
    font-weight: 500;
    transition: background 0.1s;
}
.event-actions .btn:hover {
    background: #fff;
    color: #167deb;
}
.event-actions .btn.delete-btn {
    color: #dc3545;
}

/* --- Modals & Buttons --- */
.modal-bg { display: none; position: fixed; z-index: 99; left: 0; top: 0; width: 100vw; height: 100vh; background: #0007; }
.modal { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background: #fff; border-radius: 10px; padding: 24px; z-index: 100; width: 330px; box-shadow: 0 8px 32px #2222; }
.modal label { display: block; margin-top: 12px; }
.modal-actions { margin-top: 16px; text-align: right;}
.btn { background: #167deb; color: #fff; border: none; padding: 10px 22px; border-radius: 7px; cursor: pointer; font-size: 1em;}
.btn.add { margin-bottom: 0;}
.btn.cancel { background: #eee; color: #444; margin-left: 10px;}

/* --- Subjects List --- */
.subject-list { margin-top: 16px;}
.subject-row { display: flex; align-items: center; background: #f5f5fa; border-radius: 6px; padding: 8px 12px; margin-bottom: 7px;}
.subject-color { width:18px;height:18px; border-radius:50%; margin-right:8px;}
.subject-name { font-weight:600; margin-right:10px;}
.subject-code { font-size:0.92em; color:#555; margin-right:10px;}
.subject-actions button { margin-left: 8px;}

/* --- Navbar --- */
.ig{ width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
nav { background: #fff; box-shadow: 0 2px 12px rgba(35,35,65,0.08); position: sticky; top: 0; width: 100%; z-index: 20; }
.navbar-container { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 26px; }
.navbar-logo { color: #218de5; font-size: 1.6rem; font-weight: 700; margin-top: 6px; display: flex; align-items: center; }
.navbar-links { display: flex; align-items: center; gap: 7px; margin-left: 40px; }
.navbar-links a { text-decoration: none; color: #0b80f5; font-weight: 500; font-size: 1.0em; padding: 12px 18px; border-radius: 8px; transition: background .15s, color .20s; margin-left: 2px; margin-right: 2px; }
.navbar-links a:hover, .navbar-links a.active { background-color: #097aeb; color: #fefcfc; }
.navbar-signin { margin-left: auto; padding-left: 22px; }
.signin-btn { background: linear-gradient(90deg, #137ae8 60%, #5ab2da 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 18px; font-weight: 600; font-size: 1em; cursor: pointer; box-shadow: 0 2px 8px #ffadc630; transition: background .2s, box-shadow .2s; }

/* --- Headings & Typewriter Effect --- */
h1 {
    font-size: 3rem;
    font-weight: 700;
    text-align: center;
    background-color: #1577ee;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 2px;
    text-transform: uppercase;
    animation: glow 2s ease-in-out infinite alternate;
}
.typewriter {
    font-size: 2rem;
    font-weight: 700;
    color: #0a83ec;
    font-family: "Roboto", sans-serif;
    text-transform: uppercase;
    border-right: 3px solid #ff3c78; 
    padding-right: 5px;
    white-space: nowrap;
    text-align: center;
    letter-spacing: 2px;
    margin: 10px auto;
    width: fit-content;
}
@keyframes glow { 
    from { text-shadow: 0 0 5px rgba(21, 119, 238, 0.4); } 
    to { text-shadow: 0 0 10px rgba(21, 119, 238, 0.8), 0 0 15px rgba(21, 119, 238, 0.6); } 
}

/* --- Features Grid (Retained structure) --- */
.features-container {
    display: flex; /* Changed from grid to flex for simplicity here, as only one "feature" div is present */
    justify-content: center;
    max-width: 1100px;
    margin: 35px auto 0 auto;
}
.feature {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%; /* Ensure it takes full available width */
}

/* --- RESPONSIVE STYLES (Mobile View) --- */
@media (max-width: 900px) {
    .container {
        margin: 20px auto; 
    }
}

@media (max-width: 600px) {
    .container {
        padding: 9px;
        margin: 10px auto;
    }
    header h1 {
        font-size: 1.36rem;
    }
    .stats {
        flex-direction: column; /* Stack stats cards */
        gap: 10px;
    }
    .tabs .tab {
        padding: 12px 8px; 
        font-size: 1rem;
    }
    .modal {
        width: 95vw;
    }

    /* Navbar adjustments for narrow screens */
    .navbar-container {
        flex-wrap: wrap; 
        padding: 10px 15px; 
    }
    .navbar-links {
        order: 3; 
        width: 100%;
        margin-left: 0;
        margin-top: 10px;
        justify-content: space-around; 
        overflow-x: auto; 
    }
    .navbar-links a {
        padding: 8px 10px;
        font-size: 0.9em;
        white-space: nowrap; 
    }
    .navbar-signin {
        padding-left: 0;
    }
    .signin-btn {
        padding: 8px 12px;
        font-size: 0.9em;
    }
    
    h1 {
        font-size: 2rem;
        margin-top: 15px;
    }
    .typewriter {
        font-size: 1.3rem;
    }
}
    </style>
</head>
<body>

    <nav>
        <div class="navbar-container">
            <span class="navbar-logo">
                <span class="ig" style="background: url('logo.jpeg') center/cover; display: inline-block;"></span>
                Slotify
            </span>
            <div class="navbar-links">
                <a href="#" class="active">Dashboard</a>
                <a href="#">Timetables</a>
                <a href="#">Teachers</a>
                <a href="#">Subject</a>
                <a href="#">About Us</a>
            </div>
            <div class="navbar-signin">
                <button class="signin-btn" onclick="window.location.href='login.html'">Sign In</button>
            </div>
        </div>
    </nav>

    <h1>Slotify Features</h1>
    <h2 class="typewriter"></h2>
    
    <div class="features-container">
        <div class="feature">
            <div class="container">
                <header>
                    <div>
                        <h1>Timetable Scheduler</h1>
                        <span style="color:#666;">Manage your weekly class schedule</span>
                    </div>
                </header>
                <div class="stats">
                    <div class="stat-card"><h2 id="stat-events">3</h2><span>Classes</span></div>
                    <div class="stat-card"><h2 id="stat-subjects">5</h2><span>Subjects</span></div>
                </div>
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('timetable')">Timetable</button>
                    <button class="tab" onclick="switchTab('subjects')">Subjects</button>
                    <button class="tab" onclick="switchTab('settings')">Settings</button>
                </div>
                <div class="tab-content active" id="tab-timetable">
                    <div class="table-responsive">
                        <table id="timetable-table">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>09:00</th>
                                    <th>10:00</th>
                                    <th>11:00</th>
                                </tr>
                            </thead>
                            <tbody id="timetable-tbody"></tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-content" id="tab-subjects">
                    <div class="subject-list" id="subject-list"></div>
                    <button class="btn add" onclick="openSubjectDialog()">Add Subject</button>
                </div>
                <div class="tab-content" id="tab-settings">
                    <div style="text-align:center; padding:40px; color:#999;">
                        <svg height="64" width="64"><circle cx="32" cy="32" r="28" fill="#eee"/><text x="32" y="42" font-size="30" text-anchor="middle" fill="#bbb">&#9881;</text></svg>
                        <h3>Settings Coming Soon</h3>
                        <p>Additional settings and preferences will be available here.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-bg" id="event-modal-bg">
        <form id="event-modal" class="modal" onsubmit="saveEvent(event)">
            <h3 id="event-modal-title">Add Class</h3>
            <label>Subject: <select id="event-subject" required></select></label>
            <label>Day: <select id="event-day" required>
                    <option>Monday</option><option>Tuesday</option><option>Wednesday</option>
                    <option>Thursday</option><option>Friday</option>
                </select>
            </label>
            <label>Time: <select id="event-time" required>
                    <option value="09:00">09:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option>
                </select>
            </label>
            <label>Duration (hrs): <input type="number" id="event-duration" value="1" min="1" max="4" required></label>
            <label>Room: <input type="text" id="event-room" placeholder="Room / Lab"></label>
            <label>Teacher: <input type="text" id="event-teacher" placeholder="Faculty"></label>
            <div class="modal-actions">
                <button type="submit" class="btn">Save</button>
                <button type="button" class="btn cancel" onclick="closeEventDialog()">Cancel</button>
            </div>
        </form>
    </div>
    <div class="modal-bg" id="subject-modal-bg">
        <form id="subject-modal" class="modal" onsubmit="saveSubject(event)">
            <h3 id="subject-modal-title">Add Subject</h3>
            <label>Name: <input type="text" id="subject-name" required></label>
            <label>Code: <input type="text" id="subject-code" required></label>
            <label>Color: <input type="color" id="subject-color" value="#3B82F6" required></label>
            <div class="modal-actions">
                <button type="submit" class="btn">Save</button>
                <button type="button" class="btn cancel" onclick="closeSubjectDialog()">Cancel</button>
            </div>
        </form>
    </div>

    <script>
    // Initial data
    let events = [
        { id: '1', subject: 'COA', time: '09:00', duration: 1, day: 'Monday', color: '#47d42eff', room: 'Room 328', teacher: 'Varsha Pandey' },
        { id: '2', subject: 'EM3', time: '10:00', duration: 1, day: 'Monday', color: '#a02121ff', room: 'Lab 334', teacher: 'BP Deshmukh' },
        { id: '3', subject: 'DSGT', time: '11:00', duration: 1, day: 'Tuesday', color: '#8025dbff', room: 'Lab 328', teacher: 'Rekha Rathore' }
    ];
    let subjects = [
        { id: '1', name: 'COA', color: '#47d42eff', code: 'CS301' },
        { id: '2', name: 'EM3', color: '#a02121ff', code: 'MA302' },
        { id: '3', name: 'DSGT', color: '#8025dbff', code: 'CS303' },
        { id: '4', name: 'Biology', color: '#F59E0B', code: 'BIO101' },
        { id: '5', name: 'English', color: '#8B5CF6', code: 'ENG101' }
    ];

    // State for editing
    let editingEvent = null;
    let editingSubject = null;

    // --- Tab Logic ---
    function switchTab(tab) {
        ['timetable','subjects','settings'].forEach(t => {
            document.getElementById('tab-' + t).classList.toggle('active', t === tab);
        });
        let tabBtns = document.querySelectorAll('.tab');
        tabBtns.forEach((btn, idx) => btn.className = 'tab' + (btn.innerText.toLowerCase() === tab ? ' active' : ''));
    }

    // --- Timetable Rendering ---
    function renderTimetable() {
        const tbody = document.getElementById('timetable-tbody');
        tbody.innerHTML = '';
        const days = ['Monday','Tuesday','Wednesday','Thursday','Friday'];
        const times = ['09:00','10:00','11:00'];
        
        for (let day of days) {
            let tr = document.createElement('tr');
            let tdDay = document.createElement('td');
            tdDay.textContent = day;
            tr.appendChild(tdDay);
            
            for (let time of times) {
                let td = document.createElement('td');
                let event = events.find(e => e.day === day && e.time === time);
                
                if (event) {
                    td.className = 'event event-' + event.subject.toLowerCase().replace(/\s/g, '');
                    td.style.background = event.color;
                    
                    td.innerHTML = `
                        <div style="font-size:1.05em; font-weight: bold;">${event.subject}</div>
                        <span style="font-size:0.8em; opacity: 0.9;">${event.room||''}<br>${event.teacher||''}</span>
                        <div class="event-actions">
                            <button class="btn" onclick="editEvent('${event.id}')">Edit</button>
                            <button class="btn delete-btn" onclick="deleteEvent('${event.id}')">Delete</button>
                        </div>
                    `;
                }
                tr.appendChild(td);
            }
            tbody.appendChild(tr);
        }
        document.getElementById('stat-events').textContent = events.length;
    }

    // --- Subject List Rendering ---
    function renderSubjects() {
        const list = document.getElementById('subject-list');
        list.innerHTML = '';
        for (let subject of subjects) {
            let div = document.createElement('div');
            div.className = 'subject-row';
            div.innerHTML = `<span class="subject-color" style="background:${subject.color}"></span>
                <span class="subject-name">${subject.name}</span>
                <span class="subject-code">${subject.code}</span>
                <span class="subject-actions">
                    <button class="btn" style="padding:4px 12px;" onclick="editSubject('${subject.id}')">Edit</button>
                    <button class="btn cancel" style="padding:4px 12px;" onclick="deleteSubject('${subject.id}')">Delete</button>
                </span>`;
            list.appendChild(div);
        }
        document.getElementById('stat-subjects').textContent = subjects.length;
    }

    // --- Helper: Populate Subject Dropdown ---
    function populateSubjectOptions() {
        const select = document.getElementById('event-subject');
        select.innerHTML = '';
        for (let subject of subjects) {
            let opt = document.createElement('option');
            opt.value = subject.name;
            opt.textContent = subject.name;
            select.appendChild(opt);
        }
    }

    // --- Event (Class) CRUD Logic ---
    function openEventDialog(editId) {
        populateSubjectOptions();
        document.getElementById('event-modal-title').textContent = editId ? 'Edit Class' : 'Add Class';
        document.getElementById('event-modal-bg').style.display = 'block';
        editingEvent = null;
        if (editId) {
            let event = events.find(e => e.id === editId);
            if (event) {
                editingEvent = event;
                document.getElementById('event-subject').value = event.subject;
                document.getElementById('event-day').value = event.day;
                document.getElementById('event-time').value = event.time;
                document.getElementById('event-duration').value = event.duration;
                document.getElementById('event-room').value = event.room||'';
                document.getElementById('event-teacher').value = event.teacher||'';
            }
        } else {
            document.getElementById('event-subject').value = subjects.length > 0 ? subjects[0].name : '';
            document.getElementById('event-day').value = 'Monday';
            document.getElementById('event-time').value = '09:00';
            document.getElementById('event-duration').value = 1;
            document.getElementById('event-room').value = '';
            document.getElementById('event-teacher').value = '';
        }
    }
    function closeEventDialog() {
        document.getElementById('event-modal-bg').style.display = 'none';
    }
    function saveEvent(e) {
        e.preventDefault();
        const subject = document.getElementById('event-subject').value;
        const day = document.getElementById('event-day').value;
        const time = document.getElementById('event-time').value;
        const duration = parseInt(document.getElementById('event-duration').value);
        const room = document.getElementById('event-room').value;
        const teacher = document.getElementById('event-teacher').value;
        const subjectObj = subjects.find(s => s.name === subject);
        const color = subjectObj ? subjectObj.color : '#999';
        
        if (editingEvent) {
            editingEvent.subject = subject;
            editingEvent.day = day;
            editingEvent.time = time;
            editingEvent.duration = duration;
            editingEvent.room = room;
            editingEvent.teacher = teacher;
            editingEvent.color = color;
        } else {
            const clash = events.find(e => e.day === day && e.time === time);
            if (clash) {
                alert(`Clash detected! ${clash.subject} is already scheduled for ${day} at ${time}.`);
                return;
            }

            events.push({
                id: Date.now().toString(),
                subject, day, time, duration, room, teacher, color
            });
        }
        closeEventDialog();
        renderTimetable();
    }
    function editEvent(id) { openEventDialog(id); }
    function deleteEvent(id) {
        if (confirm("Are you sure you want to delete this class from the timetable?")) {
            events = events.filter(ev => ev.id !== id);
            renderTimetable();
        }
    }

    // --- Subject CRUD Logic ---
    function openSubjectDialog(editId) {
        document.getElementById('subject-modal-title').textContent = editId ? 'Edit Subject' : 'Add Subject';
        document.getElementById('subject-modal-bg').style.display = 'block';
        editingSubject = null;
        if (editId) {
            let subject = subjects.find(s => s.id === editId);
            if (subject) {
                editingSubject = subject;
                document.getElementById('subject-name').value = subject.name;
                document.getElementById('subject-code').value = subject.code;
                document.getElementById('subject-color').value = subject.color;
            }
        } else {
            document.getElementById('subject-name').value = '';
            document.getElementById('subject-code').value = '';
            document.getElementById('subject-color').value = '#3B82F6';
        }
    }
    function closeSubjectDialog() {
        document.getElementById('subject-modal-bg').style.display = 'none';
    }
    function saveSubject(e) {
        e.preventDefault();
        const name = document.getElementById('subject-name').value;
        const code = document.getElementById('subject-code').value;
        const color = document.getElementById('subject-color').value;
        if (editingSubject) {
            editingSubject.name = name;
            editingSubject.code = code;
            editingSubject.color = color;
            events.forEach(ev => {
                if (ev.subject === name) {
                    ev.color = color;
                }
            });
        } else {
            subjects.push({
                id: Date.now().toString(), name, code, color
            });
        }
        renderSubjects();
        renderTimetable();
        closeSubjectDialog();
    }
    function editSubject(id) {openSubjectDialog(id);}
    function deleteSubject(id) {
        const subj = subjects.find(s => s.id === id);
        if (!subj) return;
        if (confirm(`Deleting ${subj.name} will also remove all its classes from the timetable. Continue?`)) {
            events = events.filter(ev => ev.subject !== subj.name);
            subjects = subjects.filter(s => s.id !== id);
            renderSubjects();
            renderTimetable();
        }
    }

    // --- Typewriter Effect ---
    const texts = [
        "Created by Team HexaCore",
        "Scheduling made simple.",
        "Dynamic timetables.",
        "No more clashes. No more chaos.",
        "Smart. Fast. Reliable.",
    ];
    let count = 0;
    let index = 0;
    let currentText = "";
    let isDeleting = false;
    const speed = 100;

    function type() {
        currentText = texts[count];
        let displayed = document.querySelector(".typewriter");

        if (!isDeleting) {
            displayed.textContent = currentText.substring(0, index++);
        } else {
            displayed.textContent = currentText.substring(0, index--);
        }

        if (!isDeleting && index === currentText.length) {
            isDeleting = true;
            setTimeout(type, 1500);
            return;
        } else if (isDeleting && index === 0) {
            isDeleting = false;
            count = (count + 1) % texts.length;
        }

        setTimeout(type, isDeleting ? speed / 2 : speed);
    }

    // --- Initialization ---
    document.addEventListener('DOMContentLoaded', () => {
        renderTimetable();
        renderSubjects();
        type();
    });

    // Click anywhere outside modal to close
    window.onclick = function(event) {
        if (event.target === document.getElementById('event-modal-bg')) closeEventDialog();
        if (event.target === document.getElementById('subject-modal-bg')) closeSubjectDialog();
    }
    </script>
</body>
</html>
